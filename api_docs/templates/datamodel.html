{% extends "base/inside_page.html" %}
{% load markdown_content %}
{% block breadcrumb %}
<div class="right-content__breadcrumb">
  <div class="col-xs-11 no-pad-r">
    <ol class="breadcrumb">
      <li><a href="#">BQL</a></li>
      <li><a href="#">Datamodel</a></li>
    </ol>
  </div>
</div>
{% endblock %}

{% block right_header %}
<div class="right-content__header">
  <div class="col-xs-11 no-pad-r">
    <div class="right-content__title">
     Datamodel
    </div>
  </div>
  <div class="clearfix"></div>
</div>
{% endblock %}

{% block right_content %}
<div id="datamodel">
  <table class="table datamodel-table">
    <thead>
      <tr>
        <th>Field</th>
        <th>Name</th>
        <th>Permissions</th>
        <th>Type</th>
        <th>SubType</th>
        <th>Multiple</th>
        <th>Group</th>
      </tr>
    </thead>
  </table>
</div>
{% md_content "partials/urls-datamodel.md" %}
{% endblock %}

{% block extra_script %}
<script type="text/javascript">
  $(function () {
    $('#datamodel table').DataTable({
      "processing": true,
      "ajax": {
        "url": "{{ datamodel_api_url }}",
        "dataType": "json",
        "dataSrc": "fields"
      },
      "columns": [
        { "data": "id" },
        { "data": "name" },
        { "data": "permissions" },
        { "data": "type" },
        { "data": "subtype" },
        { "data": "multiple" },
        { "data": "group" },
      ],
      "scrollX": true,
      "pagingType": "numbers"
    });
  });
</script>
{% endblock %}
